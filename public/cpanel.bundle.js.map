{"version":3,"sources":["webpack:///webpack/bootstrap 9cfc061b99698ee4d94a","webpack:///./src/control-panel.js","webpack:///./src/flux/index.js","webpack:///./src/flux/Dispatcher.js","webpack:///./src/flux/Store.js"],"names":["controlPanelDispatcher","NOMINATE_SELF","nominateSelfAction","data","$","PanelistStore","cb","ajax","url","method","contentType","success","res","__state","action","type","value","JSON","stringify","console","log","__emitChange","panelistStore","render","object","on","e","currentTarget","find","toggleClass","html","name","split","status","nominatedBy","hide","shadow","reverseShadow","state","css","show","newObject","dispatch","modal","addListener","getInitialState","Dispatcher","Store","__listeners","forEach","listener","push","dispatcher","register","__onDispatch","bind","Error"],"mappings":"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","file":"cpanel.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9cfc061b99698ee4d94a","\nimport { Dispatcher, Store } from './flux';\n\nconst controlPanelDispatcher = new Dispatcher();\n\nexport const NOMINATE_SELF = `NOMINATE_SELF`;\n\nconst nominateSelfAction = (data)=>{\n    return {\n        \"value\":data,\n        \"type\":NOMINATE_SELF\n    }\n}\n\n$(function(){\n\n    class PanelistStore extends Store {\n        getInitialState(cb) {\n            $.ajax({\n                url:\"http://localhost:3003/panelists\",\n                method:'get',\n                contentType:\"application/json\",\n                success: (res)=> {\n                    this.__state = res;\n                    cb(this.__state);\n                }\n            });\n\n        }\n\n        __onDispatch(action){\n            switch(action.type) {\n                case NOMINATE_SELF:\n                    this.__state = action.value;\n                    $.ajax({\n                        url: 'http://localhost:3003/panelists',\n                        method:'put',\n                        contentType:'application/json',\n                        data: JSON.stringify(this.__state),\n                        success: (res) => {\n                            console.log('res is: '+res);\n                            this.__emitChange();\n                        }\n                    });\n\n                    break;\n            }\n        }\n    }\n    \n    const panelistStore = new PanelistStore(controlPanelDispatcher);\n    \n    const render = (object)=>{\n\n        $('.collapse-button').on('click',function(e){\n            $(e.currentTarget).find('.more-less').toggleClass(\"fa-plus fa-minus\");\n        });\n\n        $('.logged-in-username').html(object.name.split(' ')[0]);\n        $('.assessment-status').html(object.status);\n        $('.nominated-by').html(object.nominatedBy);\n        $('.nominate-btn').hide();\n        $('.shadow-status').html(object.shadow.status);\n        $('.reverse-shadow-status').html(object.reverseShadow.status);\n\n        if(object.state == 0) {\n            \n            $('.detail-status').css('opacity',0.6);\n            $('.collapse-button').hide();\n            $('.nominate-btn').show();\n        }\n\n        $('.nominate-btn').on('click',() => {\n\n            // Code for Email to Supervisor Will be here\n            let newObject = object;\n            newObject.state = 1;\n            newObject.status = 'Pending Supervisor Approval';\n            newObject.nominatedBy = 'Self';\n            \n            controlPanelDispatcher.dispatch(nominateSelfAction(newObject));\n\n            $('#myModal').modal('show');\n        });\n\n    }\n    panelistStore.addListener((state)=>{\n        console.log('render is performed');\n    \n        // Re-render\n        render(state);\n    });\n\n    panelistStore.getInitialState((data)=>{render(data)});\n\n});\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/control-panel.js","export {Dispatcher} from './Dispatcher';\nexport {Store} from './Store';\n\n\n\n// WEBPACK FOOTER //\n// ./src/flux/index.js","export class Dispatcher {\n    constructor(){\n        this.__listeners = [];\n    }\n    dispatch(action){\n        this.__listeners.forEach(listener=>listener(action));\n    }\n    register(listener){\n        this.__listeners.push(listener);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/flux/Dispatcher.js","export class Store {\n    constructor(dispatcher){\n        this.__listeners = [];\n        this.__state = this.getInitialState();\n        dispatcher.register(this.__onDispatch.bind(this));\n    }\n    getInitialState(){\n        throw new Error(\"Subclasses must override getInitialState method of a Flux Store\");\n    }\n    __onDispatch(){\n        throw new Error(\"Subclasses must override __onDispatch method of a Flux Store\");\n    }\n    addListener(listener){\n        this.__listeners.push(listener);\n    }\n    __emitChange(){\n        this.__listeners.forEach(listener=>listener(this.__state));\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/flux/Store.js"],"sourceRoot":""}